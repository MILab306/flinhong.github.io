(function(a){a.fn.toc=function(o){var h={noBackToTopLinks:false,title:'<h1 class="widget-title">Table of Contents</h1>',minimumHeaders:2,headers:"h1, h2, h3, h4, h5, h6",listType:"ol",showEffect:"slideDown",showSpeed:"slow"},g=a.extend(h,o);function j(p){return encodeURIComponent(p).replace(/[!'()*]/g,function(q){return"%"+q.charCodeAt(0).toString(16);});}var d=a(g.headers).filter(function(){var p=a(this).prev().attr("name");if(!this.id&&p){this.id=a(this).attr("id",p.replace(/\./g,"-"));}return this.id;}),e=a(this);if(!d.length||d.length<g.minimumHeaders||!e.length){a(this).hide();return;}if(0===g.showSpeed){g.showEffect="none";}var c={show:function(){e.hide().html(k).show(g.showSpeed);},slideDown:function(){e.hide().html(k).slideDown(g.showSpeed);},fadeIn:function(){e.hide().html(k).fadeIn(g.showSpeed);},none:function(){e.html(k);}};var m=function(p){return parseInt(p.nodeName.replace("H",""),10);};var n=d.map(function(p,q){return m(q);}).get().sort()[0];var l='<i class="icon-arrow-up back-to-top"> </i>';var b=m(d[0]),f,k="<"+g.listType+">";d.on("click",function(){if(!g.noBackToTopLinks){window.location.hash=this.id;}}).addClass("clickable-header").each(function(p,q){f=m(q);if(!g.noBackToTopLinks&&f===n){a(q).addClass("top-level-header").after(l);}if(f===b){k+="<li><a href='#"+j(q.id)+"'>"+q.innerHTML+"</a>";}else{if(f<=b){for(i=f;i<b;i++){k+="</li></"+g.listType+">";}k+="<li><a href='#"+j(q.id)+"'>"+q.innerHTML+"</a>";}else{if(f>b){for(i=f;i>b;i--){k+="<"+g.listType+"><li>";}k+="<a href='#"+j(q.id)+"'>"+q.innerHTML+"</a>";}}}b=f;});k+="</"+g.listType+">";if(!g.noBackToTopLinks){a(document).on("click",".back-to-top",function(){a(window).scrollTop(0);window.location.hash="";});}c[g.showEffect]();};})(jQuery);